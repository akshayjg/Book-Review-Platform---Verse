{% extends 'base.html' %}
{% load static %}

{% block title %}
    {{ object.title }}
{% endblock %}
{% block content %}
<h1>{{ object.title }}</h1>
<p>Author: {{ object.author.name }}</p>
<p>Genre: {{ object.genre.name }}</p>
<p>Publisher: {{ object.publisher.name }}</p>
<p>Published on: {{ object.publication_date }}</p>
<p>Description: {{ object.description }}</p>

<h2>Reviews</h2>
<ul>
{% for review in object.review_set.all %}
    <li>{{ review.user.username }} - Rating: {{ review.rating }}<br>{{ review.comment }}</li>
{% endfor %}
</ul>
<h2>Add Review</h2>
{% if user.is_authenticated %}
    <form method="post" action="">
        {% csrf_token %}
        <label for="rating">Rating:</label>
        <select name="rating" id="rating">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select><br>

        <label for="comment">Comment:</label>
        <textarea name="comment" id="comment"></textarea><br>
        <button type="submit">Submit</button>
    </form>
{% else %}
    <p>You must be logged in to add a review.</p>
{% endif %}
{% if messages %}
    <ul class="messages">
    {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
    </ul>
{% endif %}
<script src="{% static 'js/main.js' %}"></script>
{% endblock %}







</html>
